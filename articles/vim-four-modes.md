---
title: "Vimの4つのモードを使いこなす"
emoji: "📄"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [Vim]
published: true
---

## モード

Vim は下図の 4 つのモードを切り替えて操作します。

![vim4つのモード](https://storage.googleapis.com/zenn-user-upload/36b9a38fd1f1-20220115.png)

:::message
途中で困ったら「esc」を押してノーマルモードに戻りましょう。
まずは、「:」でコマンドモードに移って
「!q」(強制終了)または「wq」(上書きして終了)だけ
覚えておけば、OK です。
:::

### ノーマルモード

Vim を起動すると、ノーマルモードから始まります。
ノーマルモードを起点に各モードに遷移することができます。
それぞれのモードで「Esc」を押すとノーマルモードに遷移します。

#### 移動

矢印キーでも移動できますが、コマンドを使うことでホームポジションを崩さずに移動できます。

| コマンド | 動作                          |
| -------- | ----------------------------- |
| h        | 左に移動                      |
| j        | 下に移動                      |
| k        | 上に移動                      |
| l        | 右に移動                      |
| gg       | 一番上の行に移動              |
| G        | 一番下の行に移動              |
| gj       | 折り返し時に 1 つ下の行に移動 |
| gk       | 折り返し時に 1 つ上の行に移動 |

#### その他

| コマンド | 動作                           |
| -------- | ------------------------------ |
| x        | 1 文字削除                     |
| d        | delete(切り取り)               |
| y        | yank(コピー)                   |
| p        | put(ペースト)                  |
| u        | undo(1 つ前に戻す)             |
| Ctrl + r | redo(取り消した操作のやり直し) |

yy など 同じコマンドを 2 回繰り返すと現在の行全体に対して動作を行います。
たとえば、yy ならば現在の行全体を yank することになります。
dd→p をすることで、切り取ったあと貼り付けができます。

### 入力モード

ノーマルモードから「i」を入力すると入力モードに移ります。
ファイルを編集するときなど、文字を入力するときに使います。

### ビジュアルモード

ノーマルモードから「v」を入力すると入力モードに移ります。
主に範囲指定をするときに使います。
「Shift+v」で行選択をしたあと、yank→put を行うなど
他のコマンドと組み合わせて使います。

### コマンドモード

保存や Vim の終了を行います。
ノーマルモードから「:」や「/」を入力するとコマンドモードに移ります。
「!」をコマンドの前につけると強制的に実行します。
| コマンド | 動作 |その他 |
| -------- | ---- |---- |
| :q | 終了 ||
| :w | 上書き保存 ||
| :wq | 上書き保存して終了 ||
| :q! | 強制終了 ||
| /{word} | {word}の検索|n で次へ進み、N で 1 つ前に戻る |

## 使い方を覚えるために

実際に使ってみないと覚えられないと思います。
VSCode では[Neovim](https://marketplace.visualstudio.com/items?itemName=asvetliakov.vscode-neovim)をインストールすることで、実際に Vim を使うことができます。
ゲーム感覚で楽しみたい人は、[VimAdventure](https://vim-adventures.com/)で遊びながら学べます。
