---
title: "コンソールを使ってAmazonS3にファイルをアップロード"
emoji: "🗄"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [AWS, S3]
published: true
---

S3にデータをアップロードする操作をコンソール画面を使って行おうと思います。
※2021/07/18時点の画面です。操作するときに画面が変わっている可能性があります。

## 手順

1. バケットを作成する
![バケット作成](https://gyazo.com/32ed81845b4bd1243911095029698bb6.png)

2. バケットの設定をする
![バケット名など設定](https://gyazo.com/f538a8518248568d114518cf79a94fc7.png)

    バケット名とリージョンを設定します。
    バケット名は自分だけではなく、他のユーザも含めて一意にする必要があります。
    テスト的につくるのであれば日付にしたら、かぶりにくいですね。

    :::details バケット名の一意性
    パケット名はパーティション内で一意であればOKです。
    パーティションはリージョンのグループのことで2021/07/17時点でaws(標準リージョン),aws-cn(中国リージョン),aws-us-gov(AWS GovCloud(米国)リージョン)の3つがあります。
    :::

    :::message allert
    バケット名にパスワードなど機密情報を含めてはいけない。
    バケット内のオブジェクトを参照するURLにふくまれるため。
    :::

    他はデフォルトのままにして「バケットを作成」をクリックします。

3. 作成したバケットの選択
![バケットの作成](https://gyazo.com/741749412591060e340a931d085c0ff4.png)

4. アップロードボタンをクリック
![アップロードボタンをクリック](https://gyazo.com/c66100938a76ea8c9111996352939542.png)

5. ファイルを追加

    ファイルを追加を押すとファイル選択のダイアログが出てくるので、アップロードしたいファイルを選びます。
    ![ファイル追加](https://gyazo.com/f17c20058b5d80ce891e77c28b5fc22e.png)

6. アップロード

    ここでアクセス許可やストレージクラスについて設定できますが、今回は特に何も設定せずにアップロードをクリックします。
    ![ファイルをアップロード](https://gyazo.com/abe3aae4f36ae0b8f0ba360611b0fe65.png)

    :::details ストレージクラスって何?
    下記画像のようなストレージクラスがあります。料金に差があったり、データの読み出し速度に差があったりするのでユーザのアクセス頻度などに応じて適切なストレージクラスを設定する必要があります。

    ![ストレージクラス](https://gyazo.com/019aad67d11bcdce7a9e8ed93c6ceb45.png)
    :::

7. 成功
    下記画面が出たら成功です。コンソール画面から画像をダウンロードしたりファイルの中身を確認することができるのでいろいろ触ってみましょう。
    ![成功](https://gyazo.com/e9719eb4a133a45e3ea5d1f93a93d661.png)


## 後片付け

不要なバケットは削除していきましょう。バケットを削除するにはアップロードしたファイル(オブジェクト)をすべて削除する必要があります。

1. S3空にする
    1つ1つ削除してもいいですが、数が多いと面倒なので一括で削除する方法でやってみます。
    AmazonS3のバケット一覧が見れるページに戻って、「空にする」をクリックします。
    ![空にする](https://gyazo.com/448244187f69ffb1e665be17beaaf108.png)

2. オブジェクトの削除

    「完全に削除」と入力し、「空にする」をクリックします。
    ![完全に削除](https://gyazo.com/74a8277f6a36b87ca3095e87afad4079.png)

    オブジェクトの削除に成功しました。
    ![空にすることに成功](https://gyazo.com/b0a6b622ec352c26f41da023a227df14.png)
3. バケットの削除画面に移動

    削除したいバケットを選んで「削除」をクリックします。
    ![バケットの削除画面に移動](https://gyazo.com/bb779f6adf5478d77a861da0c09086aa.png)

4. バケットの削除

    バケット名を入力して「バケットを削除」をクリックします。
    ![バケットの削除](https://gyazo.com/cf3389ead15e8a057eb97897ecf56d9d.png)

5. 成功

    バケットがなくなっていれば削除に成功です🎉
    ![バケットの削除に成功](https://gyazo.com/1187a97a3a7d02c3376bac71a5443d75.png)
## 参考

https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/userguide/GetStartedWithS3.html