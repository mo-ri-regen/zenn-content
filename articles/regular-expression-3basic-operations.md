---
title: "正規表現の基本三演算について"
emoji: "✉️"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [正規表現]
published: true
---

正規表現は 3 つの基本演算として「連接」、「選択」、「繰り返し」があります。3 つの基本演算を組み合わせることでいろいろな正規表現を作ることができます。

## 連接

二つの正規表現$r$と$s$をつなげた正規表現$rs$は$r$というパターンの直後に$s$というパターンが続くことを表します。

- 例
  $ABC$は $A$ と $B$ と $C$ の文字が順番に繋げられています。

## 選択

二つの正規表現$r$と$s$を$|$で並べると$r$というパターン または$s$というパターン を表します。
1 文字だけの場合は\[\](文字クラス)を使うことができます。

- 例
  $abcd|ABCD$という正規表現があるとき$abcd$または$ABCD$を表します。
  $a|b$と$[ab]$は同じ意味です。
  $x$と$y$と$z$の選択は$[xyz]$や$[x-z]$と書くことができます。

## 繰り返し

「\*」を使うことで任意の長さの繰り返しを表現します。
$r$という正規表現があった場合、$(r)*$は$r$にマッチする文字が 0 回以上繰り返されているパターンを表します。

- 例
  $[A-Za-z]*$は任意長のアルファベット列を表現します。

## 演算の結合順位

演算の結合順位は、「どの演算から評価するか」を表します。
結合順位は下記の順番で評価されます。

$$
繰り返し > 連接 > 選択
$$

ある演算を優先的に評価したい場合は$()$で括ること(**グループ化**といいます)で、優先的に評価します。

- 例
  $hoge|fuga$という正規表現を繰り返したい場合は$(hoge|fuga)*$と表します。
  $hoge|fuga*$と表すと$hoge$という正規表現と$fuga*$という正規表現の連接を表します。

## その他

今回は、詳しく記載しないですがシンタックスシュガーとして"+"や"?"などがあります。

## 参考

[正規表現技術入門――最新エンジン実装と理論的背景](https://gihyo.jp/book/2015/978-4-7741-7270-5)
